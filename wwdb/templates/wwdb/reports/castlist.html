<!--template/castlist.html-->
{% extends "wwdb/base.html" %}

{% block content %}

<div class="container p-5">
    <button type="button" class="btn btn-outline-wwdb">
        <a class="btn-link-wwdb" href="{% url 'castmanualenter' %}">Manually enter cast</a>
    </button>
    </br>
    </br>
    {% if cast_flag %}
    <h2>Flagged for review</h2>
    <table class="display_nosearch table-danger">
        <thead>
            <tr>
                <th>Start time</th>
                <th>Winch</th>
                <th>Wire</th>
                <th>Deployment type</th>
                <th>Start operator</th>
                <th>End operator</th>
                <th>Max tension</th>
                <th>Max payout</th>
                <th>Payout at max tension</th>
                <th>meter mark at max tension</th>
                <th>time of max tension</th>
                <th>Wet end tag</th>
                <th>Dry end tag</th>
                <th>Motor</th>
                <th>Edit</th>
                <th>Enter values manually</th>
                <th>Delete</th>
            </tr>
        </thead>
        {% for cast in cast_flag %}
        <tr>
            <td>{{cast.format_startdate}}</td>
            <td>{{cast.winch}}</td>
            <td>{{cast.wire}}</td>
            <td>{{cast.deploymenttype}}</td>
            <td>{{cast.startoperator}}</td>
            <td>{{cast.endoperator}}</td>
            <td>{{cast.maxtension}}</td>
            <td>{{cast.maxpayout}}</td>
            <td>{{cast.payoutmaxtension}}</td>
            <td>{{cast.metermaxtension}}</td>
            <td>{{cast.format_timemaxtension}}</td>
            <td>{{cast.wetendtag}}</td>
            <td>{{cast.dryendtag}}</td>
            <td>{{cast.active_motor}}</td>
            <td><a href="{%url 'castedit' cast.pk %}">Edit</a></td>
            <td><a href="{%url 'castmanualedit' cast.pk %}">Manual edit</a></td>
            <td><a href="{%url 'castdelete' cast.pk %}">Delete</a></td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>There are no flagged casts</p>
    {% endif %}
    <br />
    {% if cast_complete %}
    <h2>Completed casts</h2>
    <br />
    <table class="display_nosearch">
        <thead>
            <tr>
                <th>Start time</th>
                <th>Winch</th>
                <th>Wire</th>
                <th>Deployment type</th>
                <th>Start operator</th>
                <th>End operator</th>
                <th>Max tension</th>
                <th>Max payout</th>
                <th>Payout at max tension</th>
                <th>meter mark at max tension</th>
                <th>time of max tension</th>
                <th>Wet end tag</th>
                <th>Dry end tag</th>
                <th>Edit</th>
                <th>Enter values manually</th>
                <th>Delete</th>
            </tr>
        </thead>
        {% for cast in cast_complete %}
        <tr>
            <td>{{cast.format_startdate}}</td>
            <td>{{cast.winch}}</td>
            <td>{{cast.wire}}</td>
            <td>{{cast.deploymenttype}}</td>
            <td>{{cast.startoperator}}</td>
            <td>{{cast.endoperator}}</td>
            <td>{{cast.maxtension}}</td>
            <td>{{cast.maxpayout}}</td>
            <td>{{cast.payoutmaxtension}}</td>
            <td>{{cast.metermaxtension}}</td>
            <td>{{cast.format_timemaxtension}}</td>
            <td>{{cast.wetendtag}}</td>
            <td>{{cast.dryendtag}}</td>
            <td><a href="{%url 'castedit' cast.pk %}">Edit</a></td>
            <td><a href="{%url 'castmanualedit' cast.pk %}">Manual edit</a></td>
            <td><a href="{%url 'castdelete' cast.pk %}">Delete</a></td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>There are no completed casts</p>
    {% endif %}
    <br />
</div>
{% endblock content %}
